# /spec-execute-task

执行规范驱动开发计划中的特定任务，然后自动继续执行所有剩余任务。

**参数：**
- `task-id`：要开始的任务编号（例如，`1.1`）。如果未提供，将从下一个未完成的任务开始。

**自动执行行为：**

1. **初始任务执行**：执行指定的任务（如果未提供 ID，则执行下一个待处理任务）
2. **自动接管**：第一个任务完成后，系统立即自动接管
3. **连续执行**：自动按顺序执行所有剩余的未完成任务
4. **无需用户干预**：用户无需批准每个任务 - 执行将持续到所有任务完成
5. **进度跟踪**：显示实时进度并在 tasks.md 中标记已完成的任务
6. **恢复**：如果 Claude Code 重启，可以从中断处恢复

**流程：**

1. **加载规范**：从规范目录读取 `requirements.md`、`design.md` 和 `tasks.md`
2. **执行第一个任务**：
   - 如果提供了 task-id，执行该特定任务
   - 如果未提供 task-id，查找并执行下一个未完成的任务
   - 将任务标记为已完成：`- [x] **Task X.X**: ...`
3. **触发自动接管**：Hook 系统自动启动自动任务执行器
4. **连续执行**：
   - 自动执行器接管并运行所有剩余的 `- [ ]` 任务
   - 每个完成的任务自动触发下一个
   - 提供进度更新和最终摘要
   - 优雅地处理错误并继续下一个任务

**功能：**
- ✅ **一键启动**：单个命令启动完整自动化
- ✅ **零用户干预**：初始命令后无需批准
- ✅ **持久状态**：任务在 tasks.md 中标记，而非单独的 JSON 文件
- ✅ **中断恢复**：如果 Claude Code 重启，自动恢复
- ✅ **进度监控**：实时状态和完成跟踪
- ✅ **错误恢复能力**：失败的任务不会停止整体执行

**紧急控制：**
- 使用"紧急停止执行"hook 来停止自动执行
- 使用"显示执行状态"hook 来检查当前进度
- 使用"强制启动所有任务"hook 在需要时重启

**使用示例：**
```
/spec-execute-task 1.1
```
这将执行任务 1.1，然后自动继续执行 1.2、1.3、2.1 等，直到所有任务完成。

```
/spec-execute-task
```
这将从下一个未完成的任务开始，并自动执行所有剩余任务。
