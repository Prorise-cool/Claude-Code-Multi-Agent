# 安全政策

## 支持的版本

我们为以下版本中的安全漏洞发布补丁：

| 版本 | 支持          |
| ------- | ------------------ |
| 1.x.x   | :white_check_mark: |
| < 1.0   | :x:                |

## 报告漏洞

我们非常重视 Claude Code Multi-Agent 的安全性。如果您认为发现了安全漏洞，请按照以下说明向我们报告。

### 如何报告

**请不要通过公共 GitHub 问题报告安全漏洞。**

相反，请通过以下方法之一报告：

1. **GitHub 安全公告**：使用 [GitHub 的私有漏洞报告](https://github.com/Prorise-cool/Claude-Code-Multi-Agent/security/advisories/new)

2. **电子邮件**：直接联系维护者（如果仓库中提供了电子邮件）

### 应包含的内容

请在报告中包含以下信息：

- 漏洞类型（例如，命令注入、路径遍历等）
- 与漏洞相关的源文件的完整路径
- 受影响源代码的位置（标签/分支/提交或直接 URL）
- 重现问题的分步说明
- 概念验证或利用代码（如果可能）
- 问题的影响，包括攻击者可能如何利用它

### 响应时间表

- **初始响应**：48 小时内
- **状态更新**：7 天内
- **解决目标**：30 天内（取决于复杂性）

### 预期结果

1. **确认**：我们将确认收到您的漏洞报告
2. **沟通**：我们将随时告知您修复的进展
3. **致谢**：我们将在安全公告中致谢您（除非您希望保持匿名）

## 用户安全最佳实践

### 环境变量

- 永远不要将 `.env` 文件提交到版本控制
- 使用 `.env.example` 作为模板
- 保护 API 密钥和密钥的安全

### Ollama 配置

- 仅在本地运行 Ollama
- 不要将 Ollama API 暴露到公共网络
- 保持 Ollama 更新到最新版本

### Hook 安全

- 在启用之前审查 hook 脚本
- 谨慎使用执行 shell 命令的 hook
- 尽可能限制文件系统权限

### 依赖项

- 保持依赖项更新
- 审查依赖项的安全公告
- 使用 `uv` 安全地管理 Python 依赖项

## 安全功能

### 本地优先架构

- 所有处理都在本地进行
- 不会向外部服务器发送数据（除了对 localhost 的 Ollama API 调用）
- Hook 在隔离的 Python 环境中执行

### 权限模型

`.claude/settings.json` 文件控制允许的操作：

```json
{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(uv:*)",
      "Write",
      "Edit"
    ]
  }
}
```

根据您的安全要求审查和自定义这些权限。

## 已知安全注意事项

### Hook 执行

Hook 执行 Python 代码和 shell 命令。虽然这对功能是必要的，但用户应该：

- 仅使用来自可信源的 hook
- 在启用之前审查 hook 代码
- 监控 hook 日志以查找意外行为

### Ollama 模型安全

- 模型从 Ollama 的注册表下载
- 尽可能验证模型完整性
- 注意模型输出可能包含意外内容

## 漏洞披露政策

我们遵循协调披露流程：

1. 报告者私下提交漏洞
2. 我们确认并评估漏洞
3. 我们开发并测试修复
4. 我们发布修复并发布安全公告
5. 报告者可能被致谢（经许可）

## 联系方式

对于不是漏洞的安全相关问题，请在[讨论](https://github.com/Prorise-cool/Claude-Code-Multi-Agent/discussions)中开启带有"Security"类别的话题。

---

感谢您帮助保护 Claude Code Multi-Agent 及其用户的安全！
